<!doctype html><html lang=en dir=auto data-theme=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Lambda Functions with Go and CDK | Manuel Martinez</title><meta name=keywords content="aws,cloud,go,cdk"><meta name=description content="Introduction
AWS Lambda is a serverless computing service that lets you run code without provisioning or managing servers. Lambdas are very flexible because you can run them on a schedule, in response to events, or even as an API endpoint that responds to an HTTP request. In this post, we&rsquo;ll look at how to create a Lambda function using Go and the AWS Cloud Development Kit (CDK) - with a focus on using CDK to speed up the development process and improve operational efficiency."><meta name=author content="Manuel Martinez"><link rel=canonical href=http://localhost:1313/posts/tech-support/go-lambda/><link crossorigin=anonymous href=/assets/css/stylesheet.da3211e5ef867bf2b75fd5a6515cfed7195c011e8ab735694e203810a827097b.css integrity="sha256-2jIR5e+Ge/K3X9WmUVz+1xlcAR6KtzVpTiA4EKgnCXs=" rel="preload stylesheet" as=style><link rel=icon href=http://localhost:1313/images/favicon.ico><link rel=icon type=image/png sizes=16x16 href=http://localhost:1313/images/favicon.ico><link rel=icon type=image/png sizes=32x32 href=http://localhost:1313/images/favicon.ico><link rel=apple-touch-icon href=http://localhost:1313/apple-touch-icon.png><link rel=mask-icon href=http://localhost:1313/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=http://localhost:1313/posts/tech-support/go-lambda/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css integrity=sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js integrity=sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8 crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],throwOnError:!1})})</script><meta property="og:url" content="http://localhost:1313/posts/tech-support/go-lambda/"><meta property="og:site_name" content="Manuel Martinez"><meta property="og:title" content="Lambda Functions with Go and CDK"><meta property="og:description" content="Introduction AWS Lambda is a serverless computing service that lets you run code without provisioning or managing servers. Lambdas are very flexible because you can run them on a schedule, in response to events, or even as an API endpoint that responds to an HTTP request. In this post, weâ€™ll look at how to create a Lambda function using Go and the AWS Cloud Development Kit (CDK) - with a focus on using CDK to speed up the development process and improve operational efficiency."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-09-23T00:00:00+00:00"><meta property="article:modified_time" content="2024-09-23T00:00:00+00:00"><meta property="article:tag" content="Aws"><meta property="article:tag" content="Cloud"><meta property="article:tag" content="Go"><meta property="article:tag" content="Cdk"><meta name=twitter:card content="summary"><meta name=twitter:title content="Lambda Functions with Go and CDK"><meta name=twitter:description content="Introduction
AWS Lambda is a serverless computing service that lets you run code without provisioning or managing servers. Lambdas are very flexible because you can run them on a schedule, in response to events, or even as an API endpoint that responds to an HTTP request. In this post, we&rsquo;ll look at how to create a Lambda function using Go and the AWS Cloud Development Kit (CDK) - with a focus on using CDK to speed up the development process and improve operational efficiency."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://localhost:1313/posts/"},{"@type":"ListItem","position":2,"name":"Lambda Functions with Go and CDK","item":"http://localhost:1313/posts/tech-support/go-lambda/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Lambda Functions with Go and CDK","name":"Lambda Functions with Go and CDK","description":"Introduction AWS Lambda is a serverless computing service that lets you run code without provisioning or managing servers. Lambdas are very flexible because you can run them on a schedule, in response to events, or even as an API endpoint that responds to an HTTP request. In this post, we\u0026rsquo;ll look at how to create a Lambda function using Go and the AWS Cloud Development Kit (CDK) - with a focus on using CDK to speed up the development process and improve operational efficiency.\n","keywords":["aws","cloud","go","cdk"],"articleBody":"Introduction AWS Lambda is a serverless computing service that lets you run code without provisioning or managing servers. Lambdas are very flexible because you can run them on a schedule, in response to events, or even as an API endpoint that responds to an HTTP request. In this post, weâ€™ll look at how to create a Lambda function using Go and the AWS Cloud Development Kit (CDK) - with a focus on using CDK to speed up the development process and improve operational efficiency.\nAWS Lambda I will try my best not to regurgitate the AWS Lambda documentation here. In a nutshell, the whole point of the Lambda service is to run code without having to worry about the underlying compute infrastructure; normally EC2 or Fargate. Lambdas can scale automatically, and you only pay for what you use.\nIf youâ€™re wondering how and where your code is run, read more about Firecracker on this blog post by AWS.\nAll of this flexibility comes with trade-offs. Currently, Lambda executions are limited in time to 15 minutes, and the maximum memory you can allocate is 10 GB; and I say currently because these limits have been increased in the past and will most likely increase in the future. This is all to say that if you want to run a long-running process or a memory-intensive task, you will probably have a bad time. Even more so, if you want to run a stateful process, you will have to maintain state somewhere else, the functionâ€™s execution environment (scope) is virtually stateless and ephemeral. Lambdas are designed to run short-lived, stateless, scalable, and hopefully idempotent processes; you can see best practices here.\nLambda Runtimes Lambda supports a variety of runtimes, including Node.js, Python, Ruby, Java, .NET, and OS-only runtime. Excluding .NET, all the language-specific runtimes are for languages that are interpreted or run on a virtual machine, these are called managed runtimes.\nFor example, Java source code is first compiled into Java byte code, which is then interpreted by the Java Virtual Machine (JVM) which then translates the byte code into machine code instructions which depend on the CPU architecture; this is why there are different JVMs for different architectures. You can even customize some JVM settings like the memory allocation and the garbage collection strategy.\nWhen you run a Java Lambda, the Lambda service spins up a container that contains the JVM and your code; then the JVM executes the Java byte code. The process is virtually the same for other languages like Python, Ruby, and Node.js; the Lambda service spins up a container that contains the interpreter and your code, and then the interpreter executes your code. This whole lifecycle is described here, and itâ€™s important to understand if we are very concerned about cost and performance optimization.\nWhat about ahead-of-time compiled languages like Go, C++ or Rust? These languages are compiled into machine code that can be executed directly by the CPU, which means that there is no need for an interpreter or a virtual machine. Because thereâ€™s less work to do when launching the runtime environment, the cold start time for Go and Rust Lambdas is much faster than for interpreted languages. For these languages you donâ€™t use a managed runtime, but an OS-only runtime instead.\nThereâ€™s an amazing ongoing benchmark set up by Maxime David where you can see the cold start, memory usage, and execution time for different runtimes and languages.\nChoosing a Runtime As always, design decisions are all about trade-offs. Depending on your teamâ€™s proficiency, you might choose a language everyone is familiar with but at the cost of lower performance and higher costs for the service since this would allow you to save on developer time. On the other hand, you might choose a language that is more performant and cost-effective but at the cost of developer time and possibly maintenance.\nLetâ€™s assume our focus is on performance and cost-effectiveness. The options are Go, C++, or Rust. Letâ€™s drop C++ out of the race right away because the White House told us to be good citizens and use only memory-safe languages. This leaves us with Go and Rust.\nThe biggest difference between Go and Rust is that Go is garbage collected and Rust is not. This means that Go has a runtime that manages memory for you, while Rust requires you to manage memory yourself (not by malloc but by its own, beautiful, ownership model). The garbage collector in Go can introduce latency and overhead, which can affect performance. Rust, on the other hand, has no garbage collector, which means that you have more control over memory management and can write more efficient code. Also, both languages can be statically or dynamically linked, which can affect the size of the binary and the cold start time; although Go is statically linked by default.\nAWS CDK The AWS Cloud Development Kit (AWS CDK) is an open-source software development framework that allows you to define your infrastructure as code (IaC) and also helps you manage its lifecycle.\nIf you ever wanted to run a loop and create a bunch of buckets, queues, or whatever resource you can think of, you can do it with CDK. Even more powerful is to use CDK with an OOP language, where you can better define your serviceâ€™s domain. Using the right OOP approach, your service can be more maintainable, scalable, and testable. At the end of the day, CDK is just a middle layer between you and the CloudFormation service, which is the service that actually creates the resources.\nWe will use the TypeScript CDK library to create a stack and this stack is the one where we will deploy our Go Lambda function.\nSetting up the CDK Follow the instructions here to install the CDK CLI and create a new project. Once you have your project set up, you can start creating your stack.\nYou can see the final repository here\nCreating the Lambda Function import { GoFunction } from '@aws-cdk/aws-lambda-go-alpha'; import * as cdk from 'aws-cdk-lib'; import { AttributeType, Table } from 'aws-cdk-lib/aws-dynamodb'; import { Construct } from 'constructs'; export class LambdaGoStack extends cdk.Stack { private readonly goFunc: GoFunction; private readonly ddbTable: Table; constructor(scope: Construct, id: string, props?: cdk.StackProps) { super(scope, id, props); this.ddbTable = new Table(this, 'HelloGoTable', { partitionKey: {name: 'Name', type: AttributeType.STRING} }); this.goFunc = new GoFunction(this, 'HelloGo', { entry: 'go-lambda', environment: { 'TABLE_NAME': this.ddbTable.tableName } }); this.ddbTable.grantReadWriteData(this.goFunc); } } This code does the following:\nCreates a CloudFormation Stack. The stack has two things: a DynamoDB table and a Lambda function. The Lambda function is a GoFunction, which is a CDK construct that allows you to deploy a Go Lambda function using a Docker container for the build process. Then we give permissions to the Lambda function to read and write to the DynamoDB table. Before we can deploy this, we need to define the Lambda function!\nWriting the Lambda Function The Lambda function is a simple Go program that reads and writes to the DynamoDB table. The code is as follows:\npackage main import ( \"context\" \"fmt\" \"log\" \"os\" \"time\" \"github.com/aws/aws-lambda-go/lambda\" \"github.com/aws/aws-sdk-go/aws\" \"github.com/aws/aws-sdk-go/aws/session\" \"github.com/aws/aws-sdk-go/service/dynamodb\" \"github.com/aws/aws-sdk-go/service/dynamodb/dynamodbattribute\" ) type MyEvent struct { Name string `json:\"name\"` } type TableItem struct { Name string Timestamp string } func newTableItem(name string) TableItem { return TableItem{ Name: name, Timestamp: time.Now().Format(time.RFC3339), } } func HandleRequest(ctx context.Context, event *MyEvent) (*string, error) { if event == nil { return nil, fmt.Errorf(\"received event is nil\") } // we create a new session to the AWS SDK sess := session.Must(session.NewSessionWithOptions(session.Options{ SharedConfigState: session.SharedConfigEnable, })) // we create a new DynamoDB client svc := dynamodb.New(sess) // we create a new item to be inserted in the table item := newTableItem(event.Name) // we marshal the item into a map av, err := dynamodbattribute.MarshalMap(item) if err != nil { log.Fatalf(\"Got error marshalling new item: %s\", err) } // we construct the input request input := \u0026dynamodb.PutItemInput{ Item: av, TableName: aws.String(os.Getenv(\"TABLE_NAME\")), } // we put the item in the table _, err = svc.PutItem(input) if err != nil { log.Fatalf(\"Got error calling PutItem: %s\", err) } return aws.String(fmt.Sprintf(\"Hello %s!\", event.Name)), nil } func main() { lambda.Start(HandleRequest) } If you have questions about the directory structure, please refer to the repository.\nDeploying To deploy the stack, run the following commands:\ncdk deploy Thatâ€™s it! Now all this infrastructure is deployed to your account. You can delete it by running:\ncdk destroy If you want to make further changes to any component, you can do so by modifying the code and running cdk deploy again.\nTesting Now that the stack is deployed, you can test the Lambda function by running the following command:\naws lambda invoke --function-name --payload '{\"name\": \"Pepito\"}' --cli-binary-format raw-in-base64-out /dev/stdout And we can verify that the item was inserted in the DynamoDB table by running:\naws dynamodb scan --table-name Which returns:\n{ \"Items\": [ { \"Timestamp\": { \"S\": \"2024-09-29T00:40:29Z\" }, \"Name\": { \"S\": \"Pepito\" } } ], \"Count\": 1, \"ScannedCount\": 1, \"ConsumedCapacity\": null } Conclusion This was a very simple example. We left out important details, particularly about the CI/CD cycle. The good thing is that thereâ€™s a plethora of tools that can help you with that, like deploying your CDK stack with GitHub Actions or AWS CodePipeline. As long as thereâ€™s a mechanism to run the cdk deploy command, you can use any tool you like. Next time, weâ€™ll do the same exercise but with Rust ðŸ¦€.\n","wordCount":"1569","inLanguage":"en","datePublished":"2024-09-23T00:00:00Z","dateModified":"2024-09-23T00:00:00Z","author":{"@type":"Person","name":"Manuel Martinez"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:1313/posts/tech-support/go-lambda/"},"publisher":{"@type":"Organization","name":"Manuel Martinez","logo":{"@type":"ImageObject","url":"http://localhost:1313/images/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=http://localhost:1313/ accesskey=h title="Manuel Martinez (Alt + H)">Manuel Martinez</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=http://localhost:1313/about/ title=About><span>About</span></a></li><li><a href=http://localhost:1313/posts/ title=Posts><span>Posts</span></a></li><li><a href=http://localhost:1313/archives/ title=Archive><span>Archive</span></a></li><li><a href=http://localhost:1313/categories/ title=Categories><span>Categories</span></a></li><li><a href=http://localhost:1313/tags/ title=Tags><span>Tags</span></a></li><li><a href=http://localhost:1313/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=http://localhost:1313/cv/ title=CV><span>CV</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://localhost:1313/>Home</a>&nbsp;Â»&nbsp;<a href=http://localhost:1313/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Lambda Functions with Go and CDK</h1><div class=post-meta><span title='2024-09-23 00:00:00 +0000 UTC'>September 23, 2024</span>&nbsp;Â·&nbsp;<span>8 min</span>&nbsp;Â·&nbsp;<span>Manuel Martinez</span></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#introduction>Introduction</a></li><li><a href=#aws-lambda>AWS Lambda</a><ul><li><a href=#lambda-runtimes>Lambda Runtimes</a></li><li><a href=#choosing-a-runtime>Choosing a Runtime</a></li></ul></li><li><a href=#aws-cdk>AWS CDK</a><ul><li><a href=#setting-up-the-cdk>Setting up the CDK</a></li><li><a href=#creating-the-lambda-function>Creating the Lambda Function</a></li><li><a href=#writing-the-lambda-function>Writing the Lambda Function</a></li></ul></li><li><a href=#deploying>Deploying</a></li><li><a href=#testing>Testing</a></li><li><a href=#conclusion>Conclusion</a></li></ul></nav></div></details></div><div class=post-content><h2 id=introduction>Introduction<a hidden class=anchor aria-hidden=true href=#introduction>#</a></h2><p><a href=https://aws.amazon.com/lambda/>AWS Lambda</a> is a serverless computing service that lets you run code without provisioning or managing servers. Lambdas are very flexible because you can run them on a <a href=https://docs.aws.amazon.com/eventbridge/latest/userguide/eb-run-lambda-schedule.html>schedule</a>, in response to <a href=https://docs.aws.amazon.com/lambda/latest/dg/lambda-services.html>events</a>, or even as an <a href=https://docs.aws.amazon.com/lambda/latest/dg/services-apigateway.html>API endpoint</a> that responds to an HTTP request. In this post, we&rsquo;ll look at how to create a Lambda function using Go and the AWS Cloud Development Kit (CDK) - with a focus on using CDK to speed up the development process and improve operational efficiency.</p><h2 id=aws-lambda>AWS Lambda<a hidden class=anchor aria-hidden=true href=#aws-lambda>#</a></h2><p>I will try my best not to regurgitate the <a href=https://docs.aws.amazon.com/lambda/latest/dg/welcome.html>AWS Lambda documentation</a> here. In a nutshell, the whole point of the Lambda service is to run code without having to worry about the underlying compute infrastructure; normally EC2 or Fargate. Lambdas can scale automatically, and you only <a href="https://aws.amazon.com/lambda/pricing/?did=ap_card&amp;trk=ap_card">pay for what you use</a>.</p><blockquote><p>If you&rsquo;re wondering how and where your code is run, read more about <a href=https://firecracker-microvm.github.io/>Firecracker</a> on this <a href=https://aws.amazon.com/blogs/aws/firecracker-lightweight-virtualization-for-serverless-computing/>blog post</a> by AWS.</p></blockquote><p>All of this flexibility comes with trade-offs. Currently, Lambda executions are limited in time to 15 minutes, and the maximum memory you can allocate is 10 GB; and I say currently because these limits have been increased in the past and will most likely increase in the future. This is all to say that if you want to run a long-running process or a memory-intensive task, you will probably have a bad time. Even more so, if you want to run a stateful process, you will have to maintain state somewhere else, the function&rsquo;s execution environment (scope) is virtually stateless and ephemeral. Lambdas are designed to run short-lived, stateless, scalable, and hopefully idempotent processes; you can see best practices <a href=https://docs.aws.amazon.com/lambda/latest/dg/best-practices.html>here</a>.</p><h3 id=lambda-runtimes>Lambda Runtimes<a hidden class=anchor aria-hidden=true href=#lambda-runtimes>#</a></h3><p>Lambda supports a variety of <a href=https://docs.aws.amazon.com/lambda/latest/dg/lambda-runtimes.html>runtimes</a>, including Node.js, Python, Ruby, Java, .NET, and OS-only runtime. Excluding .NET, all the language-specific runtimes are for languages that are interpreted or run on a virtual machine, these are called managed runtimes.</p><p>For example, Java source code is first compiled into Java byte code, which is then interpreted by the Java Virtual Machine (JVM) which then translates the byte code into machine code instructions which depend on the CPU architecture; this is why there are different JVMs for different architectures. You can even <a href=https://docs.aws.amazon.com/lambda/latest/dg/java-customization.html>customize</a> some JVM settings like the memory allocation and the garbage collection strategy.</p><p>When you run a Java Lambda, the Lambda service spins up a container that contains the JVM and your code; then the JVM executes the Java byte code. The process is virtually the same for other languages like Python, Ruby, and Node.js; the Lambda service spins up a container that contains the interpreter and your code, and then the interpreter executes your code. This whole lifecycle is described <a href=https://docs.aws.amazon.com/lambda/latest/operatorguide/execution-environments.html>here</a>, and it&rsquo;s important to understand if we are very concerned about cost and performance optimization.</p><p>What about ahead-of-time compiled languages like Go, C++ or Rust? These languages are compiled into machine code that can be executed directly by the CPU, which means that there is no need for an interpreter or a virtual machine. Because there&rsquo;s less work to do when launching the runtime environment, the <a href=https://docs.aws.amazon.com/lambda/latest/operatorguide/execution-environments.html#cold-start-latency>cold start</a> time for Go and Rust Lambdas is much faster than for interpreted languages. For these languages you don&rsquo;t use a managed runtime, but an <a href=https://docs.aws.amazon.com/lambda/latest/dg/runtimes-provided.html>OS-only runtime</a> instead.</p><p>There&rsquo;s an <a href=https://maxday.github.io/lambda-perf/>amazing ongoing benchmark</a> set up by <a href=https://maxday.dev/>Maxime David</a> where you can see the cold start, memory usage, and execution time for different runtimes and languages.</p><h3 id=choosing-a-runtime>Choosing a Runtime<a hidden class=anchor aria-hidden=true href=#choosing-a-runtime>#</a></h3><p>As always, design decisions are all about trade-offs. Depending on your team&rsquo;s proficiency, you might choose a language everyone is familiar with but at the cost of lower performance and higher costs for the service since this would allow you to save on developer time. On the other hand, you might choose a language that is more performant and cost-effective but at the cost of developer time and possibly maintenance.</p><p>Let&rsquo;s assume our focus is on performance and cost-effectiveness. The options are Go, C++, or Rust. Let&rsquo;s drop C++ out of the race right away because <em>the</em> <a href=https://www.whitehouse.gov/oncd/briefing-room/2024/02/26/press-release-technical-report/>White House</a> told us to be good citizens and use only memory-safe languages. This leaves us with Go and Rust.</p><p>The biggest difference between Go and Rust is that Go is garbage collected and Rust is not. This means that Go has a runtime that manages memory for you, while Rust requires you to manage memory yourself (not by <code>malloc</code> but by its own, beautiful, <a href=https://doc.rust-lang.org/book/ch04-00-understanding-ownership.html>ownership model</a>). The garbage collector in Go can introduce latency and overhead, which can affect performance. Rust, on the other hand, has no garbage collector, which means that you have more control over memory management and can write more efficient code. Also, both languages can be statically or dynamically linked, which can affect the size of the binary and the cold start time; although Go is statically linked by default.</p><h2 id=aws-cdk>AWS CDK<a hidden class=anchor aria-hidden=true href=#aws-cdk>#</a></h2><p>The <a href=https://docs.aws.amazon.com/cdk/v2/guide/home.html>AWS Cloud Development Kit (AWS CDK)</a> is an open-source software development framework that allows you to define your infrastructure as code (IaC) and also helps you manage its lifecycle.</p><p>If you ever wanted to run a loop and create a bunch of buckets, queues, or whatever resource you can think of, you can do it with CDK. Even more powerful is to use CDK with an OOP language, where you can better define your service&rsquo;s domain. Using the right OOP approach, your service can be more maintainable, scalable, and testable. At the end of the day, CDK is just a middle layer between you and the <a href=https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/Welcome.html>CloudFormation</a> service, which is the service that actually creates the resources.</p><p>We will use the TypeScript CDK library to create a stack and this stack is the one where we will deploy our Go Lambda function.</p><h3 id=setting-up-the-cdk>Setting up the CDK<a hidden class=anchor aria-hidden=true href=#setting-up-the-cdk>#</a></h3><p>Follow the instructions <a href=https://docs.aws.amazon.com/cdk/v2/guide/getting_started.html>here</a> to install the CDK CLI and create a new project. Once you have your project set up, you can start creating your stack.</p><blockquote><p>You can see the final repository <a href=https://github.com/manmartgarc/cdk-lambda-go>here</a></p></blockquote><h3 id=creating-the-lambda-function>Creating the Lambda Function<a hidden class=anchor aria-hidden=true href=#creating-the-lambda-function>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>GoFunction</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;@aws-cdk/aws-lambda-go-alpha&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=o>*</span> <span class=kr>as</span> <span class=nx>cdk</span> <span class=kr>from</span> <span class=s1>&#39;aws-cdk-lib&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>AttributeType</span><span class=p>,</span> <span class=nx>Table</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;aws-cdk-lib/aws-dynamodb&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>Construct</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;constructs&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=kr>class</span> <span class=nx>LambdaGoStack</span> <span class=kr>extends</span> <span class=nx>cdk</span><span class=p>.</span><span class=nx>Stack</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kr>private</span> <span class=kr>readonly</span> <span class=nx>goFunc</span>: <span class=kt>GoFunction</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kr>private</span> <span class=kr>readonly</span> <span class=nx>ddbTable</span>: <span class=kt>Table</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kr>constructor</span><span class=p>(</span><span class=nx>scope</span>: <span class=kt>Construct</span><span class=p>,</span> <span class=nx>id</span>: <span class=kt>string</span><span class=p>,</span> <span class=nx>props?</span>: <span class=kt>cdk.StackProps</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>super</span><span class=p>(</span><span class=nx>scope</span><span class=p>,</span> <span class=nx>id</span><span class=p>,</span> <span class=nx>props</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>ddbTable</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Table</span><span class=p>(</span><span class=k>this</span><span class=p>,</span> <span class=s1>&#39;HelloGoTable&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>partitionKey</span><span class=o>:</span> <span class=p>{</span><span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;Name&#39;</span><span class=p>,</span> <span class=kr>type</span><span class=o>:</span> <span class=nx>AttributeType</span><span class=p>.</span><span class=nx>STRING</span><span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>goFunc</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>GoFunction</span><span class=p>(</span><span class=k>this</span><span class=p>,</span> <span class=s1>&#39;HelloGo&#39;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>entry</span><span class=o>:</span> <span class=s1>&#39;go-lambda&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>environment</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;TABLE_NAME&#39;</span><span class=o>:</span> <span class=k>this</span><span class=p>.</span><span class=nx>ddbTable</span><span class=p>.</span><span class=nx>tableName</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=nx>ddbTable</span><span class=p>.</span><span class=nx>grantReadWriteData</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>goFunc</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>This code does the following:</p><ol><li>Creates a <a href=https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stacks.html>CloudFormation Stack</a>.</li><li>The stack has two things: a DynamoDB table and a Lambda function.</li><li>The Lambda function is a <a href=https://docs.aws.amazon.com/cdk/api/v2/docs/@aws-cdk_aws-lambda-go-alpha.GoFunction.html>GoFunction</a>, which is a CDK construct that allows you to deploy a Go Lambda function using a Docker container for the build process.</li><li>Then we give permissions to the Lambda function to read and write to the DynamoDB table.</li></ol><p>Before we can deploy this, we need to define the Lambda function!</p><h3 id=writing-the-lambda-function>Writing the Lambda Function<a hidden class=anchor aria-hidden=true href=#writing-the-lambda-function>#</a></h3><p>The Lambda function is a <a href=https://github.com/manmartgarc/cdk-lambda-go/blob/main/go-lambda/hello.go>simple Go program</a> that reads and writes to the DynamoDB table. The code is as follows:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span><span class=w> </span><span class=nx>main</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kn>import</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=s>&#34;context&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=s>&#34;fmt&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=s>&#34;log&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=s>&#34;os&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=s>&#34;time&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=s>&#34;github.com/aws/aws-lambda-go/lambda&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=s>&#34;github.com/aws/aws-sdk-go/aws&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=s>&#34;github.com/aws/aws-sdk-go/aws/session&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=s>&#34;github.com/aws/aws-sdk-go/service/dynamodb&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=s>&#34;github.com/aws/aws-sdk-go/service/dynamodb/dynamodbattribute&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>type</span><span class=w> </span><span class=nx>MyEvent</span><span class=w> </span><span class=kd>struct</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>   </span><span class=nx>Name</span><span class=w> </span><span class=kt>string</span><span class=w> </span><span class=s>`json:&#34;name&#34;`</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>type</span><span class=w> </span><span class=nx>TableItem</span><span class=w> </span><span class=kd>struct</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>Name</span><span class=w>      </span><span class=kt>string</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>Timestamp</span><span class=w> </span><span class=kt>string</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>func</span><span class=w> </span><span class=nf>newTableItem</span><span class=p>(</span><span class=nx>name</span><span class=w> </span><span class=kt>string</span><span class=p>)</span><span class=w> </span><span class=nx>TableItem</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=nx>TableItem</span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>Name</span><span class=p>:</span><span class=w>      </span><span class=nx>name</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>Timestamp</span><span class=p>:</span><span class=w> </span><span class=nx>time</span><span class=p>.</span><span class=nf>Now</span><span class=p>().</span><span class=nf>Format</span><span class=p>(</span><span class=nx>time</span><span class=p>.</span><span class=nx>RFC3339</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>func</span><span class=w> </span><span class=nf>HandleRequest</span><span class=p>(</span><span class=nx>ctx</span><span class=w> </span><span class=nx>context</span><span class=p>.</span><span class=nx>Context</span><span class=p>,</span><span class=w> </span><span class=nx>event</span><span class=w> </span><span class=o>*</span><span class=nx>MyEvent</span><span class=p>)</span><span class=w> </span><span class=p>(</span><span class=o>*</span><span class=kt>string</span><span class=p>,</span><span class=w> </span><span class=kt>error</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>event</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=kc>nil</span><span class=p>,</span><span class=w> </span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Errorf</span><span class=p>(</span><span class=s>&#34;received event is nil&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// we create a new session to the AWS SDK</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>sess</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>session</span><span class=p>.</span><span class=nf>Must</span><span class=p>(</span><span class=nx>session</span><span class=p>.</span><span class=nf>NewSessionWithOptions</span><span class=p>(</span><span class=nx>session</span><span class=p>.</span><span class=nx>Options</span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nx>SharedConfigState</span><span class=p>:</span><span class=w> </span><span class=nx>session</span><span class=p>.</span><span class=nx>SharedConfigEnable</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}))</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// we create a new DynamoDB client</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>svc</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>dynamodb</span><span class=p>.</span><span class=nf>New</span><span class=p>(</span><span class=nx>sess</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// we create a new item to be inserted in the table</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>item</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nf>newTableItem</span><span class=p>(</span><span class=nx>event</span><span class=p>.</span><span class=nx>Name</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// we marshal the item into a map</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>av</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>dynamodbattribute</span><span class=p>.</span><span class=nf>MarshalMap</span><span class=p>(</span><span class=nx>item</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nx>log</span><span class=p>.</span><span class=nf>Fatalf</span><span class=p>(</span><span class=s>&#34;Got error marshalling new item: %s&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// we construct the input request</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>input</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=o>&amp;</span><span class=nx>dynamodb</span><span class=p>.</span><span class=nx>PutItemInput</span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nx>Item</span><span class=p>:</span><span class=w>      </span><span class=nx>av</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nx>TableName</span><span class=p>:</span><span class=w> </span><span class=nx>aws</span><span class=p>.</span><span class=nf>String</span><span class=p>(</span><span class=nx>os</span><span class=p>.</span><span class=nf>Getenv</span><span class=p>(</span><span class=s>&#34;TABLE_NAME&#34;</span><span class=p>)),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// we put the item in the table</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>_</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>svc</span><span class=p>.</span><span class=nf>PutItem</span><span class=p>(</span><span class=nx>input</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>nil</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nx>log</span><span class=p>.</span><span class=nf>Fatalf</span><span class=p>(</span><span class=s>&#34;Got error calling PutItem: %s&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=nx>aws</span><span class=p>.</span><span class=nf>String</span><span class=p>(</span><span class=nx>fmt</span><span class=p>.</span><span class=nf>Sprintf</span><span class=p>(</span><span class=s>&#34;Hello %s!&#34;</span><span class=p>,</span><span class=w> </span><span class=nx>event</span><span class=p>.</span><span class=nx>Name</span><span class=p>)),</span><span class=w> </span><span class=kc>nil</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>func</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nx>lambda</span><span class=p>.</span><span class=nf>Start</span><span class=p>(</span><span class=nx>HandleRequest</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><p>If you have questions about the directory structure, please refer to the <a href=https://github.com/manmartgarc/cdk-lambda-go/tree/main>repository</a>.</p><h2 id=deploying>Deploying<a hidden class=anchor aria-hidden=true href=#deploying>#</a></h2><p>To deploy the stack, run the following commands:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cdk deploy
</span></span></code></pre></div><p>That&rsquo;s it! Now all this infrastructure is deployed to your account. You can delete it by running:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cdk destroy
</span></span></code></pre></div><p>If you want to make further changes to any component, you can do so by modifying the code and running <code>cdk deploy</code> again.</p><h2 id=testing>Testing<a hidden class=anchor aria-hidden=true href=#testing>#</a></h2><p>Now that the stack is deployed, you can test the Lambda function by running the following command:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws lambda invoke --function-name &lt;FunctionName&gt; --payload <span class=s1>&#39;{&#34;name&#34;: &#34;Pepito&#34;}&#39;</span> --cli-binary-format raw-in-base64-out /dev/stdout
</span></span></code></pre></div><p>And we can verify that the item was inserted in the DynamoDB table by running:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>aws dynamodb scan --table-name &lt;TableName&gt;
</span></span></code></pre></div><p>Which returns:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;Items&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;Timestamp&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nt>&#34;S&#34;</span><span class=p>:</span> <span class=s2>&#34;2024-09-29T00:40:29Z&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;Name&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nt>&#34;S&#34;</span><span class=p>:</span> <span class=s2>&#34;Pepito&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;Count&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;ScannedCount&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;ConsumedCapacity&#34;</span><span class=p>:</span> <span class=kc>null</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h2 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h2><p>This was a very simple example. We left out important details, particularly about the CI/CD cycle. The good thing is that there&rsquo;s a plethora of tools that can help you with that, like deploying your CDK stack with GitHub Actions or <a href=https://aws.amazon.com/codepipeline/>AWS CodePipeline</a>. As long as there&rsquo;s a mechanism to run the <code>cdk deploy</code> command, you can use any tool you like. Next time, we&rsquo;ll do the same exercise but with Rust &#x1f980;.</p></div><footer class=post-footer><ul class=post-tags><li><a href=http://localhost:1313/tags/aws/>Aws</a></li><li><a href=http://localhost:1313/tags/cloud/>Cloud</a></li><li><a href=http://localhost:1313/tags/go/>Go</a></li><li><a href=http://localhost:1313/tags/cdk/>Cdk</a></li></ul><nav class=paginav><a class=prev href=http://localhost:1313/posts/coursera/deep-learning-specialization/sequence-models/week4/><span class=title>Â« Prev</span><br><span>Sequence Models: Week 4 | Transformers</span>
</a><a class=next href=http://localhost:1313/posts/tech-support/rust-lambda/><span class=title>Next Â»</span><br><span>Lambda Functions with Rust and CDK</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2026 <a href=http://localhost:1313/>Manuel Martinez</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>